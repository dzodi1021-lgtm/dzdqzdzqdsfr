<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Live Discord Presence</title>

  <style>
    :root{
      --bg1:#050816;
      --bg2:#0b1230;
      --card: rgba(10, 16, 38, .62);
      --stroke: rgba(255,255,255,.10);
      --strokeHover: rgba(255,255,255,.85);
      --text:#eaf0ff;
      --muted:rgba(234,240,255,.70);
      --shadow: 0 18px 70px rgba(0,0,0,.60);
      --shadow2: 0 12px 35px rgba(0,0,0,.45);
      --radius: 18px;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      min-height:100vh;
      overflow-x:hidden;
      background:
        radial-gradient(1200px 600px at 20% 15%, rgba(77,120,255,.25), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(82,255,197,.14), transparent 55%),
        radial-gradient(900px 600px at 60% 90%, rgba(255,143,77,.10), transparent 60%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
    }

    #StarsCanvas{
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      opacity: .95;
    }

    .wrap{
      position: relative;
      z-index: 2;
      width:min(860px, 92vw);
      margin:0 auto;
      padding: 28px 0 40px;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      overflow:hidden;
      position:relative;
      transition: border-color .22s ease, box-shadow .22s ease, transform .22s ease;
    }

    .card::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        radial-gradient(520px 240px at 18% 0%, rgba(140,180,255,.18), transparent 60%),
        radial-gradient(520px 320px at 88% 0%, rgba(120,255,210,.12), transparent 55%);
      pointer-events:none;
      opacity:.95;
    }

    .card > .inner{
      position:relative;
      padding: 16px;
    }

    .hoverGlow:hover{
      border-color: var(--strokeHover);
      box-shadow: 0 18px 70px rgba(0,0,0,.60), 0 0 0 1px rgba(255,255,255,.25) inset;
      transform: translateY(-1px);
    }

    .pillRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:10px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 7px 10px;
      border-radius: 999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      color: rgba(234,240,255,.78);
      font-size: 13px;
      box-shadow: 0 10px 28px rgba(0,0,0,.18);
      transition: border-color .22s ease, background .22s ease;
    }

    .dot{
      width:10px;
      height:10px;
      border-radius:999px;
      background:#808191;
      box-shadow: 0 0 0 4px rgba(128,129,145,.12);
    }

    .profile{
      display:flex;
      align-items:center;
      gap:14px;
    }

    .avatar{
      width:72px;
      height:72px;
      border-radius: 999px;
      border: 2px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      object-fit: cover;
      box-shadow: var(--shadow2);
      cursor:pointer;
      transition: transform .18s ease, border-color .22s ease;
    }

    .avatar:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.32);
    }

    #username{
      margin:0;
      font-size: 20px;
      font-weight: 950;
      letter-spacing:.2px;
      background:linear-gradient(135deg,#fff 0%,#888 50%,#fff 100%);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
      color: transparent;
    }

    .sectionTitle{
      margin: 14px 0 8px;
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(234,240,255,.60);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }

    .rowCard{
      display:flex;
      gap:12px;
      align-items:center;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      transition: border-color .22s ease, background .22s ease, transform .22s ease;
    }

    .rowCard:hover{
      border-color: rgba(255,255,255,.60);
      background: rgba(255,255,255,.06);
    }

    .iconBox{
      width: 54px;
      height: 54px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(6,10,25,.55);
      display:grid;
      place-items:center;
      box-shadow: 0 10px 28px rgba(0,0,0,.25);
      flex: 0 0 auto;
      overflow:hidden;
    }

    .iconBox svg{ width: 28px; height: 28px; }
    .iconBox img{ width:100%; height:100%; object-fit:cover; border-radius: 16px; }

    .rowMain{
      min-width:0;
      flex:1 1 auto;
    }

    .rowMain .title{
      margin:0;
      font-weight: 950;
      letter-spacing:.2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .rowMain .desc{
      margin: 6px 0 0;
      color: var(--muted);
      font-size: 13px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .sourceOnly{
      margin-top: 12px;
      color: rgba(234,240,255,.55);
      font-size: 12px;
      display:none;
    }

    .spotifyProgress{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      display:none;
      transition: border-color .22s ease;
    }

    .spotifyProgress:hover{
      border-color: rgba(255,255,255,.50);
    }

    .bar{
      height: 8px;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      overflow:hidden;
    }

    .bar > span{
      display:block;
      height:100%;
      width:0%;
      background: rgba(255,255,255,.60);
      border-radius: 999px;
    }

    .timeRow{
      margin-top: 8px;
      display:flex;
      justify-content: space-between;
      font-size: 12px;
      color: rgba(234,240,255,.75);
    }

    .projectsCard{ margin-top: 14px; }

    .projectsHeader{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 10px;
    }

    .projectsTitle{
      margin:0;
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(234,240,255,.60);
    }

    .navBtns{
      display:flex;
      gap:8px;
      align-items:center;
    }

    .navBtn{
      width: 34px;
      height: 34px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      color: rgba(234,240,255,.90);
      display:grid;
      place-items:center;
      cursor:pointer;
      user-select:none;
      transition: border-color .22s ease, background .22s ease, transform .18s ease;
    }

    .navBtn:hover{
      border-color: rgba(255,255,255,.75);
      background: rgba(255,255,255,.08);
      transform: translateY(-1px);
    }

    .navBtn:disabled{
      opacity:.35;
      cursor: not-allowed;
      transform:none;
    }

    .carousel{
      overflow:hidden;
      position:relative;
    }

    .carouselTrack{
      display:flex;
      width: 200%;
      transform: translateX(0%);
      transition: transform .38s cubic-bezier(.2,.9,.2,1);
    }

    .projectSlide{
      width: 50%;
      padding: 0;
    }

    .projectRow{
      display:flex;
      gap:12px;
      align-items:flex-start;
      padding: 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      transition: border-color .22s ease, background .22s ease, transform .22s ease;
      position:relative;
    }

    .projectRow:hover{
      border-color: rgba(255,255,255,.85);
      background: rgba(255,255,255,.06);
      transform: translateY(-1px);
    }

    .projectIcon{
      width: 62px;
      height: 62px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      overflow:hidden;
      background: rgba(6,10,25,.55);
      box-shadow: 0 10px 28px rgba(0,0,0,.25);
      flex: 0 0 auto;
    }

    .projectIcon img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .projectMain{
      min-width:0;
      flex:1 1 auto;
    }

    .projectTop{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }

    .projectName{
      margin:0;
      font-size: 18px;
      font-weight: 950;
      letter-spacing:.2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .badge{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(234,240,255,.88);
      flex: 0 0 auto;
    }

    .projectDesc{
      margin: 8px 0 12px;
      color: rgba(234,240,255,.72);
      font-size: 13px;
      line-height: 1.45;
    }

    .tagRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .tag{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: rgba(234,240,255,.78);
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color: rgba(234,240,255,.92);
      cursor:pointer;
      transition: border-color .22s ease, background .22s ease, transform .18s ease;
      user-select:none;
      text-decoration:none;
      font-weight: 750;
      font-size: 13px;
    }

    .btn:hover{
      border-color: rgba(255,255,255,.85);
      background: rgba(255,255,255,.10);
      transform: translateY(-1px);
    }

    .btn:active{
      transform: translateY(0px) scale(.99);
    }

    .overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.0);
      backdrop-filter: blur(0px);
      -webkit-backdrop-filter: blur(0px);
      display:none;
      z-index: 9998;
      transition: background .26s ease, backdrop-filter .26s ease;
    }

    .overlay.show{
      display:block;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .modal{
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%,-50%) scale(.98);
      width: min(920px, 92vw);
      max-height: min(78vh, 700px);
      overflow:hidden;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(10, 16, 38, .72);
      box-shadow: 0 28px 90px rgba(0,0,0,.70);
      z-index: 9999;
      opacity:0;
      pointer-events:none;
      transition: opacity .26s ease, transform .26s cubic-bezier(.2,.9,.2,1);
      transform-origin: var(--ox, 50%) var(--oy, 50%);
    }

    .modal.show{
      opacity:1;
      pointer-events:auto;
      transform: translate(-50%,-50%) scale(1);
    }

    .modal::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        radial-gradient(620px 260px at 20% 0%, rgba(140,180,255,.16), transparent 60%),
        radial-gradient(520px 340px at 90% 0%, rgba(120,255,210,.10), transparent 55%);
      opacity:.95;
      pointer-events:none;
    }

    .modalInner{
      position:relative;
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 12px;
      height: 100%;
    }

    .modalTop{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
    }

    .modalTitle{
      margin:0;
      font-size: 14px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(234,240,255,.72);
    }

    .closeBtn{
      width: 38px;
      height: 38px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      color: rgba(234,240,255,.90);
      cursor:pointer;
      transition: border-color .22s ease, background .22s ease, transform .18s ease;
    }

    .closeBtn:hover{
      border-color: rgba(255,255,255,.85);
      background: rgba(255,255,255,.08);
      transform: translateY(-1px);
    }

    .modalBody{
      overflow:auto;
      padding-right: 6px;
    }

    .scriptsGrid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 12px;
    }

    @media (max-width: 860px){
      .scriptsGrid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }

    @media (max-width: 520px){
      .scriptsGrid{ grid-template-columns: 1fr; }
    }

    .scriptCard{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      padding: 12px;
      transition: border-color .22s ease, background .22s ease, transform .22s ease;
    }

    .scriptCard:hover{
      border-color: rgba(255,255,255,.85);
      background: rgba(255,255,255,.06);
      transform: translateY(-1px);
    }

    .scriptTop{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }

    .scriptName{
      margin:0;
      font-weight: 950;
      letter-spacing:.2px;
      font-size: 14px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .scriptBadge{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(234,240,255,.86);
      flex: 0 0 auto;
    }

    .scriptText{
      margin: 10px 0 12px;
      font-size: 12px;
      color: rgba(234,240,255,.72);
      line-height: 1.45;
      min-height: 44px;
    }

    .scriptActions{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:flex-end;
    }

    .copyBtn{
      padding: 9px 10px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color: rgba(234,240,255,.92);
      cursor:pointer;
      transition: border-color .22s ease, background .22s ease, transform .18s ease;
      font-weight: 800;
      font-size: 12px;
    }

    .copyBtn:hover{
      border-color: rgba(255,255,255,.85);
      background: rgba(255,255,255,.10);
      transform: translateY(-1px);
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      padding: 10px 12px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.45);
      color: rgba(234,240,255,.92);
      font-size: 13px;
      box-shadow: 0 18px 60px rgba(0,0,0,.5);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index: 10000;
    }

    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-2px);
    }
  </style>
</head>

<body>
  <canvas id="StarsCanvas"></canvas>

  <div class="wrap">
    <div class="card hoverGlow">
      <div class="inner">
        <div class="profile">
          <img id="avatar" class="avatar" alt="avatar" title="Click to copy username" />
          <div>
            <p id="username">Connecting…</p>

            <div class="pillRow">
              <span class="pill">
                <span class="dot" id="statusDot"></span>
                <span id="statusText">—</span>
              </span>

              <span class="pill" title="Click to toggle exact number">
                Views: <span id="ViewCount">—</span>
              </span>
            </div>
          </div>
        </div>

        <div class="sectionTitle">Activity</div>

        <div class="rowCard">
          <div class="iconBox" id="activityIconBox" aria-hidden="true"></div>
          <div class="rowMain">
            <p class="title" id="activityTitle">—</p>
            <p class="desc" id="activityDesc">—</p>
          </div>
        </div>

        <div class="spotifyProgress" id="spotifyProgress">
          <div class="bar"><span id="spotifyBar"></span></div>
          <div class="timeRow">
            <span id="spotifyNow">0:00</span>
            <span id="spotifyTotal">0:00</span>
          </div>
        </div>

        <div class="sourceOnly" id="sourceLine">
          Source: Lanyard WebSocket • Real-time updates.
        </div>
      </div>
    </div>

    <div class="card hoverGlow projectsCard">
      <div class="inner">
        <div class="projectsHeader">
          <p class="projectsTitle">Projects</p>

          <div class="navBtns">
            <button class="navBtn" id="prevProject" title="Previous" aria-label="Previous project">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M15 6 9 12l6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>

            <button class="navBtn" id="nextProject" title="Next" aria-label="Next project">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>

        <div class="carousel" aria-label="Projects carousel">
          <div class="carouselTrack" id="projectTrack">
            <div class="projectSlide">
              <div class="projectRow">
                <div class="projectIcon" aria-hidden="true">
                  <img src="https://i.postimg.cc/mrx7BrGq/image.png" alt="" />
                </div>

                <div class="projectMain">
                  <div class="projectTop">
                    <p class="projectName">Roblox scripts</p>
                    <span class="badge">In Development</span>
                  </div>

                  <p class="projectDesc">Roblox scripts developed to improve your experience.</p>

                  <div class="tagRow">
                    <span class="tag">Lua</span>
                    <button class="btn" id="viewScriptsBtn">View scripts</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="projectSlide">
              <div class="projectRow">
                <div class="projectIcon" aria-hidden="true">
                  <img src="https://i.postimg.cc/26g1Fc8X/image.png" alt="" />
                </div>

                <div class="projectMain">
                  <div class="projectTop">
                    <p class="projectName">DarkSon Obfuscator</p>
                    <span class="badge">In Development</span>
                  </div>

                  <p class="projectDesc">A tool which will allows you to safely obfuscate your lua files.</p>

                  <div class="tagRow">
                    <span class="tag">Lua</span>
                    <span class="tag">In Development</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="overlay" id="overlay"></div>

  <div class="modal" id="scriptsModal" role="dialog" aria-modal="true" aria-label="Roblox scripts">
    <div class="modalInner">
      <div class="modalTop">
        <p class="modalTitle">Roblox scripts</p>
        <button class="closeBtn" id="closeModal" aria-label="Close">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M18 6 6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>

      <div class="modalBody">
        <div class="scriptsGrid" id="scriptsGrid"></div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">Copied</div>

  <script>
  (() => {
    const toastEl = document.getElementById("toast");

    const toast = (msg) => {
      toastEl.textContent = msg;
      toastEl.classList.add("show");
      setTimeout(() => toastEl.classList.remove("show"), 1100);
    };

    const USER_ID = "1204110245694144583";

    const els = {
      avatar: document.getElementById("avatar"),
      username: document.getElementById("username"),
      statusDot: document.getElementById("statusDot"),
      statusText: document.getElementById("statusText"),
      activityIconBox: document.getElementById("activityIconBox"),
      activityTitle: document.getElementById("activityTitle"),
      activityDesc: document.getElementById("activityDesc"),
      sourceLine: document.getElementById("sourceLine"),
      spotifyProgress: document.getElementById("spotifyProgress"),
      spotifyBar: document.getElementById("spotifyBar"),
      spotifyNow: document.getElementById("spotifyNow"),
      spotifyTotal: document.getElementById("spotifyTotal"),
    };

    const statusColor = (s) => {
      switch (s) {
        case "online": return ["#3ad37a", "rgba(58,211,122,.18)"];
        case "idle":   return ["#f2c94c", "rgba(242,201,76,.18)"];
        case "dnd":    return ["#eb5757", "rgba(235,87,87,.18)"];
        case "offline":return ["#808191", "rgba(128,129,145,.14)"];
        default:       return ["#808191", "rgba(128,129,145,.14)"];
      }
    };

    const avatarUrl = (discord_user) => {
      if (!discord_user) return "";
      const { id, avatar, discriminator } = discord_user;

      if (avatar) {
        const ext = avatar.startsWith("a_") ? "gif" : "png";
        return `https://cdn.discordapp.com/avatars/${id}/${avatar}.${ext}?size=256`;
      }

      const disc = Number(discriminator || 0);
      const index = (disc % 5);
      return `https://cdn.discordapp.com/embed/avatars/${index}.png`;
    };

    const iconSVG = (name) => {
      const n = (name || "").toLowerCase();

      if (n === "spotify") {
        return `
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z" stroke="currentColor" stroke-width="2"/>
            <path d="M7 10.3c3.9-1.2 7.6-.9 11 .8" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity=".9"/>
            <path d="M7.7 13.2c3.3-1 6.4-.7 9.3.6" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity=".8"/>
            <path d="M8.5 16c2.7-.7 5.1-.5 7.3.4" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity=".7"/>
          </svg>
        `;
      }

      if (n.includes("roblox")) {
        return `
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M8.2 2.7 21.3 8.2 15.8 21.3 2.7 15.8 8.2 2.7Z" stroke="currentColor" stroke-width="2"/>
            <path d="M10.2 9.8 14.2 11.4 12.6 15.4 8.6 13.8 10.2 9.8Z" fill="currentColor" opacity=".9"/>
          </svg>
        `;
      }

      if (n.includes("gta") || n.includes("grand theft auto")) {
        return `
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="2"/>
            <path d="M7.2 13.2V10h2.3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M12 10h2.8M13.4 10v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M18 16h-2.6V10H18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        `;
      }

      return `
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M8.5 9h7c2.3 0 3.8 1.7 4.2 4l.4 2.1c.3 1.9-1.2 3.6-3.1 3.6-1 0-1.9-.5-2.5-1.3l-1-1.4a2 2 0 0 0-3 0l-1 1.4c-.6.8-1.5 1.3-2.5 1.3-1.9 0-3.4-1.7-3.1-3.6l.4-2.1C4.7 10.7 6.2 9 8.5 9Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M8.2 14h2.6M9.5 12.7v2.6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M15.8 13.2h.01M17.4 14.8h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
        </svg>
      `;
    };

    const pickNonSpotifyActivity = (activities) => {
      if (!Array.isArray(activities)) return null;
      const withoutSpotify = activities.filter(a => a && a.name !== "Spotify");
      return (
        withoutSpotify.find(a => a.type === 0) ||
        withoutSpotify.find(a => a.type === 4) ||
        withoutSpotify[0] ||
        null
      );
    };

    let spotifyTickTimer = null;

    const msToTime = (ms) => {
      ms = Math.max(0, ms | 0);
      const s = Math.floor(ms / 1000);
      const m = Math.floor(s / 60);
      const ss = String(s % 60).padStart(2, "0");
      return `${m}:${ss}`;
    };

    const stopSpotifyTicker = () => {
      if (spotifyTickTimer) clearInterval(spotifyTickTimer);
      spotifyTickTimer = null;
      els.spotifyProgress.style.display = "none";
    };

    const startSpotifyTicker = (startMs, endMs) => {
      stopSpotifyTicker();
      els.spotifyProgress.style.display = "block";
      els.spotifyTotal.textContent = msToTime(endMs - startMs);

      const tick = () => {
        const now = Date.now();
        const dur = Math.max(1, endMs - startMs);
        const pos = Math.min(dur, Math.max(0, now - startMs));
        const pct = (pos / dur) * 100;
        els.spotifyBar.style.width = `${pct}%`;
        els.spotifyNow.textContent = msToTime(pos);
      };

      tick();
      spotifyTickTimer = setInterval(tick, 500);
    };

    const renderPresence = (data) => {
      const duser = data?.discord_user;
      const status = data?.discord_status ?? "offline";

      const username =
        duser?.global_name ||
        duser?.display_name ||
        duser?.username ||
        "Discord User";

      els.username.textContent = username;

      const [c, glow] = statusColor(status);
      els.statusText.textContent = status;
      els.statusDot.style.background = c;
      els.statusDot.style.boxShadow = `0 0 0 4px ${glow}`;

      const ava = avatarUrl(duser);
      if (ava) els.avatar.src = ava;

      if (data?.spotify) {
        els.sourceLine.style.display = "none";

        const art = data.spotify.album_art_url || "";
        els.activityIconBox.innerHTML = art ? `<img src="${art}" alt="album art" />` : iconSVG("spotify");

        const song = data.spotify.song || "Spotify";
        const artist = data.spotify.artist || "";
        const album = data.spotify.album || "";

        els.activityTitle.textContent = song;
        els.activityDesc.textContent = [artist, album].filter(Boolean).join(" • ") || "Listening on Spotify";

        const start = data.spotify?.timestamps?.start;
        const end = data.spotify?.timestamps?.end;
        if (typeof start === "number" && typeof end === "number" && end > start) startSpotifyTicker(start, end);
        else stopSpotifyTicker();

        return;
      }

      stopSpotifyTicker();

      const activity = pickNonSpotifyActivity(data?.activities);
      if (!activity) {
        els.sourceLine.style.display = "block";
        els.activityIconBox.innerHTML = iconSVG("");
        els.activityTitle.textContent = "No activity detected";
        els.activityDesc.textContent = "—";
        return;
      }

      els.sourceLine.style.display = "none";

      const name = activity.name || "Activity";
      const details = activity.details || "";
      const state = activity.state || "";
      const extra = [details, state].filter(Boolean).join(" • ");

      els.activityIconBox.innerHTML = iconSVG(name);
      els.activityTitle.textContent = name;
      els.activityDesc.textContent = extra || "Active now.";
    };

    const ws = new WebSocket("wss://api.lanyard.rest/socket");

    let heartbeatTimer = null;

    const startHeartbeat = (interval) => {
      if (heartbeatTimer) clearInterval(heartbeatTimer);
      heartbeatTimer = setInterval(() => {
        if (ws.readyState === WebSocket.OPEN) ws.send(JSON.stringify({ op: 3 }));
      }, interval);
    };

    ws.addEventListener("open", () => {
      ws.send(JSON.stringify({ op: 2, d: { subscribe_to_id: USER_ID } }));
    });

    ws.addEventListener("message", (event) => {
      const msg = JSON.parse(event.data);

      if (msg.op === 1) {
        startHeartbeat(msg.d.heartbeat_interval);
        return;
      }

      if (msg.op === 0) {
        if (msg.t === "INIT_STATE") renderPresence(msg.d);
        if (msg.t === "PRESENCE_UPDATE") renderPresence(msg.d);
      }
    });

    ws.addEventListener("close", () => {
      if (heartbeatTimer) clearInterval(heartbeatTimer);
      heartbeatTimer = null;

      stopSpotifyTicker();

      els.statusText.textContent = "offline";
      const [c, glow] = statusColor("offline");
      els.statusDot.style.background = c;
      els.statusDot.style.boxShadow = `0 0 0 4px ${glow}`;
    });

    ws.addEventListener("error", () => {
      els.username.textContent = "WebSocket error";
    });

    els.avatar.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(els.username.textContent.trim());
        toast("Username copied");
      } catch {
        toast("Copy failed");
      }
    });

    const track = document.getElementById("projectTrack");
    const prevBtn = document.getElementById("prevProject");
    const nextBtn = document.getElementById("nextProject");

    let projectIndex = 0;

    const updateCarousel = () => {
      track.style.transform = `translateX(${-projectIndex * 50}%)`;
      prevBtn.disabled = projectIndex === 0;
      nextBtn.disabled = projectIndex === 1;
    };

    prevBtn.addEventListener("click", () => {
      projectIndex = Math.max(0, projectIndex - 1);
      updateCarousel();
    });

    nextBtn.addEventListener("click", () => {
      projectIndex = Math.min(1, projectIndex + 1);
      updateCarousel();
    });

    updateCarousel();

    const overlay = document.getElementById("overlay");
    const modal = document.getElementById("scriptsModal");
    const openBtn = document.getElementById("viewScriptsBtn");
    const closeBtn = document.getElementById("closeModal");
    const grid = document.getElementById("scriptsGrid");

    const SCRIPTS = [
      { title: "Adopt Me",      text: "-- In development\n-- Paste your script here later\nprint('Adopt Me')" },
      { title: "Blox Fruits",   text: "-- In development\n-- Paste your script here later\nprint('Blox Fruits')" },
      { title: "Arsenal",       text: "-- In development\n-- Paste your script here later\nprint('Arsenal')" },
      { title: "Doors",         text: "-- In development\n-- Paste your script here later\nprint('Doors')" },
      { title: "Brookhaven",    text: "-- In development\n-- Paste your script here later\nprint('Brookhaven')" },
      { title: "Pet Simulator", text: "-- In development\n-- Paste your script here later\nprint('Pet Simulator')" },
    ];

    const escapeHtml = (str) => {
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    };

    const buildScriptCards = () => {
      grid.innerHTML = "";
      for (const item of SCRIPTS){
        const card = document.createElement("div");
        card.className = "scriptCard";
        card.innerHTML = `
          <div class="scriptTop">
            <p class="scriptName">${escapeHtml(item.title)}</p>
            <span class="scriptBadge">In Development</span>
          </div>
          <div class="scriptText">Content: <span style="opacity:.85">editable in code</span></div>
          <div class="scriptActions">
            <button class="copyBtn" type="button">Copy</button>
          </div>
        `;
        card.querySelector(".copyBtn").addEventListener("click", async () => {
          try{
            await navigator.clipboard.writeText(item.text);
            toast("Copied");
          }catch{
            toast("Copy failed");
          }
        });
        grid.appendChild(card);
      }
    };

    const setModalOriginFrom = (el) => {
      const r = el.getBoundingClientRect();
      modal.style.setProperty("--ox", `${r.left + r.width / 2}px`);
      modal.style.setProperty("--oy", `${r.top + r.height / 2}px`);
    };

    const openModal = (fromEl) => {
      setModalOriginFrom(fromEl);
      overlay.classList.add("show");
      modal.classList.add("show");
      document.body.style.overflow = "hidden";
    };

    const closeModal = () => {
      overlay.classList.remove("show");
      modal.classList.remove("show");
      document.body.style.overflow = "";
    };

    buildScriptCards();

    openBtn.addEventListener("click", () => openModal(openBtn));
    closeBtn.addEventListener("click", closeModal);
    overlay.addEventListener("click", closeModal);

    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.classList.contains("show")) closeModal();
    });
  })();
  </script>

  <script>
  (function () {
    const canvas = document.getElementById('StarsCanvas');
    if (!canvas) return;

    const ctx = canvas.getContext('2d');
    if (!ctx) return;

    let W = 0, H = 0, tick = 0;
    let stars = [], shots = [];

    function resize() {
      W = canvas.width  = window.innerWidth;
      H = canvas.height = window.innerHeight;
    }

    function buildStars() {
      stars = [];
      for (let i = 0; i < 600; i++) {
        const bright = Math.random() < 0.12;
        const blink  = Math.random() < 0.20;
        stars.push({
          x:      Math.random() * W,
          y:      Math.random() * H,
          r:      bright ? Math.random() * 1.8 + 0.8 : Math.random() * 1.0 + 0.2,
          alpha:  bright ? Math.random() * 0.4 + 0.6  : Math.random() * 0.5 + 0.25,
          speed:  Math.random() * 0.006 + 0.001,
          phase:  Math.random() * Math.PI * 2,
          glow:   bright ? Math.random() * 4 + 3 : 0,
          vy:     Math.random() * 0.5 + 0.25,
          bright,
          blink,
          blinkTimer:    Math.random() * 200,
          blinkDuration: 0,
          blinking:      false,
        });
      }
    }

    function spawnShot() {
      const angle = (Math.random() * 22 + 15) * (Math.PI / 180);
      const speed = Math.random() * 7 + 8;
      shots.push({
        x:    Math.random() * W * 0.85,
        y:    Math.random() * H * 0.40,
        vx:   Math.cos(angle) * speed,
        vy:   Math.sin(angle) * speed,
        tail: Math.random() * 18 + 12,
        life: 1,
        fade: Math.random() * 0.012 + 0.008,
        width: Math.random() * 1.2 + 0.8,
      });
    }

    function drawFrame() {
      ctx.clearRect(0, 0, W, H);

      for (const s of stars) {
        let brightMod = 1;

        if (s.blink) {
          s.blinkTimer--;
          if (s.blinkTimer <= 0 && !s.blinking) {
            s.blinking      = true;
            s.blinkDuration = Math.random() * 12 + 6;
            s.blinkTimer    = Math.random() * 300 + 100;
          }
          if (s.blinking) {
            s.blinkDuration--;
            brightMod = s.blinkDuration % 2 < 1 ? 0.05 : 1;
            if (s.blinkDuration <= 0) s.blinking = false;
          }
        }

        const al = s.alpha * (0.5 + 0.5 * Math.sin(tick * s.speed + s.phase)) * brightMod;

        if (s.bright && s.glow > 0) {
          const grd = ctx.createRadialGradient(s.x, s.y, 0, s.x, s.y, s.glow);
          grd.addColorStop(0, `rgba(255,255,255,${al * 0.5})`);
          grd.addColorStop(1, 'rgba(220,220,220,0)');
          ctx.beginPath();
          ctx.arc(s.x, s.y, s.glow, 0, Math.PI * 2);
          ctx.fillStyle = grd;
          ctx.fill();
        }

        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(225,220,255,${al})`;
        ctx.fill();

        s.y += s.vy;
        if (s.y > H + 2) { s.y = -2; s.x = Math.random() * W; }
      }

      for (let i = shots.length - 1; i >= 0; i--) {
        const s = shots[i];

        const hgrd = ctx.createRadialGradient(s.x, s.y, 0, s.x, s.y, 3.5);
        hgrd.addColorStop(0, `rgba(255,255,255,${s.life * 0.9})`);
        hgrd.addColorStop(1, 'rgba(220,220,220,0)');
        ctx.beginPath();
        ctx.arc(s.x, s.y, 3.5, 0, Math.PI * 2);
        ctx.fillStyle = hgrd;
        ctx.fill();

        const tx = s.x - s.vx * s.tail;
        const ty = s.y - s.vy * s.tail;
        const lgrd = ctx.createLinearGradient(s.x, s.y, tx, ty);
        lgrd.addColorStop(0,   `rgba(255,255,255,${s.life * 0.95})`);
        lgrd.addColorStop(0.3, `rgba(240,240,240,${s.life * 0.50})`);
        lgrd.addColorStop(1,   'rgba(200,200,200,0)');

        ctx.beginPath();
        ctx.moveTo(s.x, s.y);
        ctx.lineTo(tx, ty);
        ctx.strokeStyle = lgrd;
        ctx.lineWidth   = s.width * s.life;
        ctx.lineCap     = 'round';
        ctx.stroke();

        s.x    += s.vx;
        s.y    += s.vy;
        s.life -= s.fade;

        if (s.life <= 0 || s.x > W + 100 || s.y > H + 100) shots.splice(i, 1);
      }

      tick++;
      requestAnimationFrame(drawFrame);
    }

    function init() {
      resize();
      buildStars();
      setTimeout(spawnShot, 600);
      setInterval(spawnShot, 2500);
      drawFrame();
      window.addEventListener('resize', () => { resize(); buildStars(); });
    }

    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
    else init();
  })();
  </script>

  <script>
  (async () => {
    const SUPABASE_URL = "https://clmyidsidesaexysiyns.supabase.co";
    const SUPABASE_KEY = "sb_publishable_Th8CO3GKHVkAUaUQBjgCgg_nkaqoVow";
    const SESSION_KEY = "_myviews_v1";

    const el = document.getElementById("ViewCount");
    if (!el) return;

    const headers = {
      apikey: SUPABASE_KEY,
      Authorization: "Bearer " + SUPABASE_KEY,
      "Content-Type": "application/json",
    };

    const format = (n) => {
      if (n >= 1e6) return (n/1e6).toFixed(1) + "M";
      if (n >= 1000) {
        const t = Math.floor(n/100);
        const w = Math.floor(t/10);
        const d = t % 10;
        return w + "," + d + "k";
      }
      return String(n);
    };

    const render = (n) => {
      let exact = false;
      el.textContent = format(n);
      el.style.cursor = "pointer";
      el.addEventListener("click", () => {
        exact = !exact;
        el.textContent = exact ? n.toLocaleString("en-US") : format(n);
      });
    };

    try {
      const seen = sessionStorage.getItem(SESSION_KEY);

      if (seen) {
        const r = await fetch(`${SUPABASE_URL}/rest/v1/views?id=eq.1&select=count`, { headers });
        const j = await r.json();
        render(Number(j?.[0]?.count ?? 0));
        return;
      }

      sessionStorage.setItem(SESSION_KEY, "1");

      const r = await fetch(`${SUPABASE_URL}/rest/v1/rpc/increment_views`, {
        method: "POST",
        headers,
        body: "{}",
      });

      const newCount = await r.json();
      render(Number(newCount) || 0);
    } catch {}
  })();
  </script>
</body>
</html>